<!DOCTYPE html>
<html lang="en" data-color-scheme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Faculty Jobs ‚Ä¢ Neo UI</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- Navbar -->
  <div class="navbar">
    <div class="container nav-inner">
      <div class="brand">
        <div class="brand-logo" aria-hidden="true"></div>
        <h1>Faculty Jobs ‚Ä¢ Neo</h1>
      </div>
      <div class="nav-actions">
        <span class="chip" title="Current role">Role: <strong id="roleName">GUEST</strong></span>
        <a class="btn ghost" href="#post" id="postJobBtn">Post a Job</a>
        <button class="btn" id="signInBtn">Login</button>
        <button class="btn" id="signOutBtn" style="display:none">Sign Out</button>
        <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">üåô</button>
      </div>
    </div>
  </div>

  <!-- Hero -->
  <header class="hero">
    <div class="container wrap">
      <div>
        <h2>Find your next academic role with a friction-free, gorgeous UI.</h2>
        <p>Search, filter, and apply across universities worldwide. Save roles, track deadlines, and‚Äîif you're admin‚Äîapprove postings with one click.</p>
        <div class="hero-cta">
          <a href="#jobs" class="btn primary">Browse Jobs</a>
          <a href="#featured" class="btn">Closing Soon</a>
          <a href="#archived" class="btn">Archived</a>
        </div>
      </div>
      <div class="hero-card">
        <div class="kpi">
          <div class="box"><h4 id="kpiActive">0</h4><span>Active Positions</span></div>
          <div class="box"><h4 id="kpiFeatured">0</h4><span>Closing Soon</span></div>
          <div class="box"><h4 id="kpiSaved">0</h4><span>Saved</span></div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main -->
  <main>
    <!-- Jobs -->
    <section id="jobs" class="section container stack-6">
      <div class="stack-4">
        <h3>Open Positions</h3>
        <div class="filters">
          <input class="input" id="q" placeholder="Search by title or institution‚Ä¶" />
          <select class="select" id="fDept"><option value="">All Departments</option></select>
          <select class="select" id="fLevel"><option value="">All Levels</option></select>
          <select class="select" id="fLoc"><option value="">All Locations</option></select>
          <button class="btn" id="clearFilters">Clear</button>
        </div>
      </div>
      <div id="resultsInfo" style="color:var(--color-text-2)">Loading jobs‚Ä¶</div>
      <div class="grid" id="grid"></div>
      <div id="emptyState" class="empty" style="display:none">No jobs matched your filters.</div>
    </section>

    <!-- Featured -->
    <section id="featured" class="section container stack-6">
      <h3>Closing Soon</h3>
      <div class="grid" id="featuredGrid"></div>
    </section>

    <!-- Archived -->
    <section id="archived" class="section container stack-6">
      <h3>Archived</h3>
      <div class="grid" id="archivedGrid"></div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    Built with ‚ù§Ô∏è using your palette and improved UX patterns. Login to post jobs; admins can approve pending posts.
  </footer>

  <!-- Post Job Modal -->
  <div class="modal" id="postModal" role="dialog" aria-modal="true" aria-labelledby="postTitle">
    <div class="sheet">
      <header>
        <h4 id="postTitle" style="margin:0">Post a Job</h4>
        <button class="btn" id="closePost">Close</button>
      </header>
      <div class="body stack-4">
        <div class="grid" style="grid-template-columns: repeat(12,1fr); gap:12px">
          <div class="col-4" style="grid-column: span 12">
            <label>Title
              <input class="input" id="pTitle" required/>
            </label>
          </div>

          <div class="col-4" style="grid-column: span 6">
            <label>Institution
              <select class="select" id="pInstSel"></select>
            </label>
            <div id="pInstOtherWrap" style="display:none">
              <label>Institution (Other)
                <input class="input" id="pInstOther" />
              </label>
            </div>
          </div>

          <div class="col-4" style="grid-column: span 6">
            <label>Location
              <select class="select" id="pLocSel"></select>
            </label>
            <div id="pLocOtherWrap" style="display:none">
              <label>Location (Other)
                <input class="input" id="pLocOther" placeholder="City, State, Country"/>
              </label>
            </div>
          </div>

          <div class="col-4" style="grid-column: span 6">
            <label>Subject(s) <small style="color:var(--color-text-2)">select multiple</small>
              <select class="select" id="pDept" multiple size="6"></select>
            </label>
            <div id="pDeptOtherWrap" style="display:none">
              <label>Other Subject(s) (comma-separated)
                <input class="input" id="pDeptOther" placeholder="e.g., Oceanography, AI Safety"/>
              </label>
            </div>
          </div>

          <div class="col-4" style="grid-column: span 6">
            <label>Position(s) <small style="color:var(--color-text-2)">select multiple</small>
              <select class="select" id="pLevel" multiple size="5"></select>
            </label>
            <div id="pLevelOtherWrap" style="display:none">
              <label>Other Position(s) (comma-separated)
                <input class="input" id="pLevelOther" placeholder="e.g., Visiting Professor, Adjunct"/>
              </label>
            </div>
          </div>

          <div class="col-4" style="grid-column: span 12">
            <label>Description
              <textarea class="input" id="pDesc" rows="4" required></textarea>
            </label>
          </div>

          <div class="col-4" style="grid-column: span 6">
            <label>Deadline
              <input class="input" id="pDead" type="date" required/>
            </label>
          </div>

          <div class="col-4" style="grid-column: span 6">
            <label>Apply Link
              <input class="input" id="pLink" placeholder="https://‚Ä¶"/>
            </label>
          </div>
        </div>

        <div style="display:flex; gap:10px; justify-content:flex-end">
          <button class="btn" id="submitPost">Submit</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Details Modal -->
  <div class="modal" id="detailsModal" role="dialog" aria-modal="true" aria-labelledby="detailsTitle">
    <div class="sheet">
      <header>
        <h4 id="detailsTitle" style="margin:0">Job Details</h4>
        <button class="btn" id="closeDetails">Close</button>
      </header>
      <div class="body" id="detailsBody"></div>
    </div>
  </div>

  <!-- Auth Modal -->
  <div class="modal" id="authModal" role="dialog" aria-modal="true" aria-labelledby="authTitle">
    <div class="sheet">
      <header>
        <h4 id="authTitle" style="margin:0">Login</h4>
        <button class="btn" id="closeAuth">Close</button>
      </header>
      <div class="body stack-4">
        <div style="display:flex; gap:8px; align-items:center; flex-wrap:wrap">
          <button class="btn" id="modeSignin">Login</button>
          <button class="btn" id="modeSignup">Create Account</button>
          <span id="verifyNote" style="display:none; color:var(--color-warning); font-size:13px">Verify your email to continue.</span>
        </div>

        <div class="grid" style="grid-template-columns: repeat(12,1fr); gap:12px">
          <div class="col-4" style="grid-column: span 6" id="nameWrap" hidden>
            <label>Full Name
              <input class="input" id="authName" />
            </label>
          </div>
          <div class="col-4" style="grid-column: span 6">
            <label>Email
              <input class="input" id="authEmail" type="email" required />
            </label>
          </div>

          <!-- Role selector (shown in Create Account mode) -->
          <div class="col-4" style="grid-column: span 6" id="roleWrap" hidden>
            <label>Role</label>
            <div style="display:flex; gap:16px; align-items:center; margin-top:8px">
              <label style="display:flex; align-items:center; gap:8px;">
                <input type="radio" name="authRole" id="roleCandidate" value="CANDIDATE" checked>
                Candidate
              </label>
              <label style="display:flex; align-items:center; gap:8px;">
                <input type="radio" name="authRole" id="roleEmployer" value="EMPLOYER">
                Employer
              </label>
            </div>
          </div>

          <div class="col-4" style="grid-column: span 6">
            <label>Password
              <input class="input" id="authPass" type="password" required />
            </label>
          </div>
        </div>

        <div style="display:flex; gap:8px; justify-content:space-between; align-items:center">
          <div style="display:flex; gap:8px; align-items:center">
            <button class="btn" id="authSubmit">Continue</button>
            <button class="btn" id="sendVerify" style="display:none">Resend Verification</button>
            <button class="btn" id="forgotPass">Forgot Password?</button>
          </div>
          <small style="color:var(--color-text-2)">Role comes from your profile in Firestore automatically.</small>
        </div>
      </div>
    </div>
  </div>

  <!-- Toasts -->
  <div class="toasts" id="toasts"></div>

  <!-- App (module) -->
  <script type="module" src="app.js"></script>
</body>
</html>
